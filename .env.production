# NusaNexus NoFOMO - Production Environment Configuration
# This file should be used for production deployment only

# App Configuration
APP_NAME="NusaNexus NoFOMO"
APP_VERSION="1.0.0"
DEBUG=false
SECRET_KEY="production-secret-key-minimum-32-characters-long"
ALLOWED_HOSTS="nusafxtrade.com,www.nusafxtrade.com,*.onrender.com"
LOG_LEVEL="INFO"

# Database Configuration (Supabase Production)
SUPABASE_URL="https://your-production-project.supabase.co"
SUPABASE_KEY="your-production-supabase-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-production-supabase-service-role-key"
DATABASE_URL="postgresql://nusafx_user:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/nusafxtrade"

# Redis Configuration (Production)
REDIS_URL="redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}"
REDIS_HOST="${REDIS_HOST}"
REDIS_PORT="${REDIS_PORT}"
REDIS_PASSWORD="${REDIS_PASSWORD}"
REDIS_DB=0

# OpenRouter AI Configuration
OPENROUTER_API_KEY="${OPENROUTER_API_KEY}"
OPENROUTER_BASE_URL="https://openrouter.ai/api/v1"
OPENROUTER_MODEL="anthropic/claude-3-sonnet"

# Exchange API Configuration (Production)
BINANCE_API_URL="https://api.binance.com"
BINANCE_TESTNET_URL="https://testnet.binance.vision"
BYBIT_API_URL="https://api.bybit.com"
BYBIT_TESTNET_URL="https://api-testnet.bybit.com"

# Tripay Billing Configuration (Production)
TRIPAY_API_KEY="${TRIPAY_API_KEY}"
TRIPAY_MERCHANT_CODE="${TRIPAY_MERCHANT_CODE}"
TRIPAY_PRIVATE_KEY="${TRIPAY_PRIVATE_KEY}"
TRIPAY_CALLBACK_URL="https://nusafxtrade.com/api/v1/payments/callback"

# Monitoring & Logging
SENTRY_DSN="${SENTRY_DSN}"
SENTRY_ENVIRONMENT="production"
SENTRY_TRACES_SAMPLE_RATE=0.1

# URLs
FRONTEND_URL="https://nusafxtrade.com"
BACKEND_URL="https://nusafx-backend.onrender.com"
API_BASE_URL="https://nusafx-backend.onrender.com/api/v1"

# Feature Flags (Production - selective)
FEATURE_AI_BUILDER=true
FEATURE_REAL_TRADING=true
FEATURE_PREMIUM_FEATURES=true
FEATURE_NOTIFICATIONS=true
FEATURE_ANALYTICS=true
FEATURE_EXPORT_DATA=true
FEATURE_API_V2=true

# Performance (High)
WORKERS=4
MAX_CONNECTIONS=1000
TIMEOUT=30
CONNECTION_POOL_SIZE=20
KEEPALIVE_TIMEOUT=75

# Security (High)
CORS_ALLOW_ORIGINS="https://nusafxtrade.com,https://www.nusafxtrade.com"
SESSION_TIMEOUT=3600
MAX_LOGIN_ATTEMPTS=3
PASSWORD_MIN_LENGTH=12
ENCRYPTION_ALGORITHM="AES-256-GCM"

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10
API_RATE_LIMIT_PER_HOUR=1000

# Database Optimization
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis Configuration
REDIS_MAX_CONNECTIONS=100
REDIS_SOCKET_TIMEOUT=30
REDIS_CONNECTION_POOL_SIZE=10

# Backup & Recovery
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_S3_BUCKET="nusafx-trade-backups"

# SSL/TLS
SSL_CERT_PATH="/etc/ssl/certs/nusafxtrade.crt"
SSL_KEY_PATH="/etc/ssl/private/nusafxtrade.key"
HSTS_MAX_AGE=31536000

# Monitoring
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true
PERFORMANCE_MONITORING=true

# Content Security Policy
CSP_DEFAULT_SRC="'self'"
CSP_SCRIPT_SRC="'self' 'unsafe-inline' 'unsafe-eval'"
CSP_STYLE_SRC="'self' 'unsafe-inline'"
CSP_IMG_SRC="'self' data: https:"
CSP_CONNECT_SRC="'self' https: wss:"
CSP_FONT_SRC="'self' data:"